{"remainingRequest":"C:\\ruoyi\\kkyq-rebuild - 副本\\RuoYi\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ruoyi\\kkyq-rebuild - 副本\\RuoYi\\ruoyi-ui\\src\\views\\pill\\flower\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\ruoyi\\kkyq-rebuild - 副本\\RuoYi\\ruoyi-ui\\src\\views\\pill\\flower\\index.vue","mtime":1767595370500},{"path":"C:\\ruoyi\\kkyq-rebuild - 副本\\RuoYi\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1767595575517},{"path":"C:\\ruoyi\\kkyq-rebuild - 副本\\RuoYi\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1767595575519},{"path":"C:\\ruoyi\\kkyq-rebuild - 副本\\RuoYi\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1767595575517},{"path":"C:\\ruoyi\\kkyq-rebuild - 副本\\RuoYi\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1767595573878}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgew0KICBsaXN0Rmxvd2VyLA0KICBnZXRGbG93ZXIsDQogIGFkZEZsb3dlciwNCiAgdXBkYXRlRmxvd2VyLA0KICBkZWxGbG93ZXIsDQogIGV4cG9ydEZsb3dlcg0KfSBmcm9tICdAL2FwaS9waWxsL2Zsb3dlcicNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnRmxvd2VyJywNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgbG9hZGluZzogZmFsc2UsDQogICAgICBmbG93ZXJMaXN0OiBbXSwNCiAgICAgIHRvdGFsOiAwLA0KICAgICAgbXVsdGlwbGU6IHRydWUsDQogICAgICBpZHM6IFtdLA0KICAgICAgb3BlbjogZmFsc2UsDQogICAgICBkaWFsb2dUaXRsZTogJycsDQogICAgICBxdWVyeVBhcmFtczogew0KICAgICAgICBwYWdlTnVtOiAxLA0KICAgICAgICBwYWdlU2l6ZTogMTAsDQogICAgICAgIGZsb3dlck5hbWU6IHVuZGVmaW5lZCwNCiAgICAgICAgZmxvd2VyQ29kZTogdW5kZWZpbmVkLA0KICAgICAgICBmbG93ZXJUeXBlOiB1bmRlZmluZWQNCiAgICAgIH0sDQogICAgICBmb3JtOiB7DQogICAgICAgIGZsb3dlcklkOiB1bmRlZmluZWQsDQogICAgICAgIGZsb3dlck5hbWU6ICcnLA0KICAgICAgICBmbG93ZXJDb2RlOiAnJywNCiAgICAgICAgZmxvd2VyVHlwZTogJzAnLA0KICAgICAgICBjb2xvcjogJycsDQogICAgICAgIGZsb3dlcmluZ1BlcmlvZDogJycsDQogICAgICAgIHByaWNlOiAwLA0KICAgICAgICBudW06IDAsDQogICAgICAgIHdhcm5WYWx1ZTogMCwNCiAgICAgICAgdW5pdDogJycsDQogICAgICAgIGltYWdlOiAnJywNCiAgICAgICAgc3RhdHVzOiAnMCcNCiAgICAgIH0sDQogICAgICBydWxlczogew0KICAgICAgICBmbG93ZXJOYW1lOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWQjeensCcsIHRyaWdnZXI6ICdibHVyJyB9XSwNCiAgICAgICAgZmxvd2VyQ29kZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXnvJbnoIEnLCB0cmlnZ2VyOiAnYmx1cicgfV0NCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRMaXN0KCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldExpc3QoKSB7DQogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlDQogICAgICBsaXN0Rmxvd2VyKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5mbG93ZXJMaXN0ID0gcmVzLnJvd3MgfHwgW10NCiAgICAgICAgdGhpcy50b3RhbCA9IHJlcy50b3RhbCB8fCAwDQogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICB9KS5jYXRjaCgoKSA9PiB7DQogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICB9KQ0KICAgIH0sDQogICAgaGFuZGxlUXVlcnkoKSB7DQogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VOdW0gPSAxDQogICAgICB0aGlzLmdldExpc3QoKQ0KICAgIH0sDQogICAgcmVzZXRRdWVyeSgpIHsNCiAgICAgIHRoaXMucXVlcnlQYXJhbXMgPSB7DQogICAgICAgIHBhZ2VOdW06IDEsDQogICAgICAgIHBhZ2VTaXplOiAxMCwNCiAgICAgICAgZmxvd2VyTmFtZTogdW5kZWZpbmVkLA0KICAgICAgICBmbG93ZXJDb2RlOiB1bmRlZmluZWQsDQogICAgICAgIGZsb3dlclR5cGU6IHVuZGVmaW5lZA0KICAgICAgfQ0KICAgICAgdGhpcy5nZXRMaXN0KCkNCiAgICB9LA0KICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7DQogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VTaXplID0gdmFsDQogICAgICB0aGlzLmdldExpc3QoKQ0KICAgIH0sDQogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZU51bSA9IHZhbA0KICAgICAgdGhpcy5nZXRMaXN0KCkNCiAgICB9LA0KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsNCiAgICAgIHRoaXMuaWRzID0gc2VsZWN0aW9uLm1hcChpdGVtID0+IGl0ZW0uZmxvd2VySWQpDQogICAgICB0aGlzLm11bHRpcGxlID0gIXNlbGVjdGlvbi5sZW5ndGgNCiAgICB9LA0KICAgIHJlc2V0Rm9ybSgpIHsNCiAgICAgIHRoaXMuZm9ybSA9IHsNCiAgICAgICAgZmxvd2VySWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgZmxvd2VyTmFtZTogJycsDQogICAgICAgIGZsb3dlckNvZGU6ICcnLA0KICAgICAgICBmbG93ZXJUeXBlOiAnMCcsDQogICAgICAgIGNvbG9yOiAnJywNCiAgICAgICAgZmxvd2VyaW5nUGVyaW9kOiAnJywNCiAgICAgICAgcHJpY2U6IDAsDQogICAgICAgIG51bTogMCwNCiAgICAgICAgd2FyblZhbHVlOiAwLA0KICAgICAgICB1bml0OiAnJywNCiAgICAgICAgaW1hZ2U6ICcnLA0KICAgICAgICBzdGF0dXM6ICcwJw0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybSkgew0KICAgICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXRGaWVsZHMoKQ0KICAgICAgfQ0KICAgIH0sDQogICAgaGFuZGxlQWRkKCkgew0KICAgICAgdGhpcy5yZXNldEZvcm0oKQ0KICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9ICfmlrDlop7oirHljYknDQogICAgICB0aGlzLm9wZW4gPSB0cnVlDQogICAgfSwNCiAgICBoYW5kbGVVcGRhdGUocm93KSB7DQogICAgICB0aGlzLnJlc2V0Rm9ybSgpDQogICAgICBnZXRGbG93ZXIocm93LmZsb3dlcklkKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMuZm9ybSA9IE9iamVjdC5hc3NpZ24oe30sIHJlcy5kYXRhIHx8IHt9KQ0KICAgICAgICB0aGlzLmRpYWxvZ1RpdGxlID0gJ+e8lui+keiKseWNiScNCiAgICAgICAgdGhpcy5vcGVuID0gdHJ1ZQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHN1Ym1pdEZvcm0oKSB7DQogICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUodmFsaWQgPT4gew0KICAgICAgICBpZiAoIXZhbGlkKSByZXR1cm4NCiAgICAgICAgY29uc3QgYXBpID0gdGhpcy5mb3JtLmZsb3dlcklkID8gdXBkYXRlRmxvd2VyIDogYWRkRmxvd2VyDQogICAgICAgIGFwaSh0aGlzLmZvcm0pLnRoZW4oKCkgPT4gew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5pON5L2c5oiQ5YqfJykNCiAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZQ0KICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpDQogICAgICAgIH0pDQogICAgICB9KQ0KICAgIH0sDQogICAgaGFuZGxlRGVsZXRlKHJvdykgew0KICAgICAgY29uc3QgaWRzID0gcm93ICYmIHJvdy5mbG93ZXJJZCA/IHJvdy5mbG93ZXJJZCA6IHRoaXMuaWRzLmpvaW4oJywnKQ0KICAgICAgaWYgKCFpZHMpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7fpgInmi6nopoHliKDpmaTnmoTmlbDmja4nKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruiupOWIoOmZpOmAieS4reeahOiKseWNieWQl++8nycsICfmj5DnpLonLCB7DQogICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgIGRlbEZsb3dlcihpZHMpLnRoZW4oKCkgPT4gew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJykNCiAgICAgICAgICB0aGlzLmdldExpc3QoKQ0KICAgICAgICB9KQ0KICAgICAgfSkuY2F0Y2goKCkgPT4ge30pDQogICAgfSwNCiAgICBoYW5kbGVFeHBvcnQoKSB7DQogICAgICBleHBvcnRGbG93ZXIodGhpcy5xdWVyeVBhcmFtcykudGhlbihibG9iUmVzID0+IHsNCiAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtibG9iUmVzXSkNCiAgICAgICAgY29uc3QgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYikNCiAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKQ0KICAgICAgICBhLmhyZWYgPSB1cmwNCiAgICAgICAgYS5kb3dubG9hZCA9ICfoirHljYnkv6Hmga8ueGxzeCcNCiAgICAgICAgYS5jbGljaygpDQogICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHVybCkNCiAgICAgIH0pDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAiLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/pill/flower","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <div class=\"filter-container\">\r\n      <el-form :inline=\"true\" :model=\"queryParams\" size=\"small\">\r\n        <el-form-item label=\"名称\">\r\n          <el-input\r\n            v-model=\"queryParams.flowerName\"\r\n            placeholder=\"花卉名称\"\r\n            clearable\r\n            @keyup.enter.native=\"handleQuery\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"编码\">\r\n          <el-input\r\n            v-model=\"queryParams.flowerCode\"\r\n            placeholder=\"花卉编码\"\r\n            clearable\r\n            @keyup.enter.native=\"handleQuery\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"类型\">\r\n          <el-select v-model=\"queryParams.flowerType\" placeholder=\"请选择类型\" clearable>\r\n            <el-option label=\"观花类\" value=\"0\" />\r\n            <el-option label=\"观叶类\" value=\"1\" />\r\n            <el-option label=\"观果类\" value=\"2\" />\r\n            <el-option label=\"多肉类\" value=\"3\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"handleQuery\">搜索</el-button>\r\n          <el-button icon=\"el-icon-refresh\" @click=\"resetQuery\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n\r\n    <div class=\"table-operations\">\r\n      <el-button type=\"primary\" icon=\"el-icon-plus\" size=\"small\" @click=\"handleAdd\">\r\n        新增\r\n      </el-button>\r\n      <el-button\r\n        type=\"danger\"\r\n        icon=\"el-icon-delete\"\r\n        size=\"small\"\r\n        :disabled=\"multiple\"\r\n        @click=\"handleDelete\"\r\n      >\r\n        删除\r\n      </el-button>\r\n      <el-button\r\n        type=\"warning\"\r\n        icon=\"el-icon-download\"\r\n        size=\"small\"\r\n        @click=\"handleExport\"\r\n      >\r\n        导出\r\n      </el-button>\r\n    </div>\r\n\r\n    <el-table\r\n      v-loading=\"loading\"\r\n      :data=\"flowerList\"\r\n      border\r\n      @selection-change=\"handleSelectionChange\"\r\n    >\r\n      <el-table-column type=\"selection\" width=\"55\" />\r\n      <el-table-column prop=\"flowerId\" label=\"ID\" width=\"80\" />\r\n      <el-table-column prop=\"image\" label=\"图片\" width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <el-image\r\n            v-if=\"scope.row.image\"\r\n            :src=\"scope.row.image\"\r\n            :preview-src-list=\"[scope.row.image]\"\r\n            style=\"width: 60px; height: 60px\"\r\n            fit=\"cover\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"flowerName\" label=\"名称\" min-width=\"120\" />\r\n      <el-table-column prop=\"flowerCode\" label=\"编码\" min-width=\"100\" />\r\n      <el-table-column prop=\"flowerType\" label=\"类型\" width=\"90\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag v-if=\"scope.row.flowerType === '0'\" type=\"primary\">观花类</el-tag>\r\n          <el-tag v-else-if=\"scope.row.flowerType === '1'\" type=\"success\">观叶类</el-tag>\r\n          <el-tag v-else-if=\"scope.row.flowerType === '2'\" type=\"warning\">观果类</el-tag>\r\n          <el-tag v-else type=\"info\">多肉类</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"color\" label=\"颜色\" width=\"90\" />\r\n      <el-table-column prop=\"floweringPeriod\" label=\"花期\" width=\"120\" />\r\n      <el-table-column prop=\"price\" label=\"价格(元)\" width=\"100\" />\r\n      <el-table-column prop=\"num\" label=\"库存\" width=\"90\" />\r\n      <el-table-column prop=\"warnValue\" label=\"预警值\" width=\"90\" />\r\n      <el-table-column prop=\"unit\" label=\"单位\" width=\"80\" />\r\n      <el-table-column prop=\"status\" label=\"状态\" width=\"90\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag :type=\"scope.row.status === '0' ? 'success' : 'info'\">\r\n            {{ scope.row.status === '0' ? '正常' : '停用' }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" fixed=\"right\" width=\"160\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"text\" size=\"mini\" @click=\"handleUpdate(scope.row)\">\r\n            编辑\r\n          </el-button>\r\n          <el-button type=\"text\" size=\"mini\" @click=\"handleDelete(scope.row)\">\r\n            删除\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <el-pagination\r\n      v-show=\"total > 0\"\r\n      style=\"margin-top: 10px; text-align: right\"\r\n      background\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"total\"\r\n      :page-size=\"queryParams.pageSize\"\r\n      :current-page=\"queryParams.pageNum\"\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n    />\r\n\r\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"open\" width=\"600px\">\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\r\n        <el-form-item label=\"名称\" prop=\"flowerName\">\r\n          <el-input v-model=\"form.flowerName\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"编码\" prop=\"flowerCode\">\r\n          <el-input v-model=\"form.flowerCode\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"类型\" prop=\"flowerType\">\r\n          <el-select v-model=\"form.flowerType\" placeholder=\"请选择类型\">\r\n            <el-option label=\"观花类\" value=\"0\" />\r\n            <el-option label=\"观叶类\" value=\"1\" />\r\n            <el-option label=\"观果类\" value=\"2\" />\r\n            <el-option label=\"多肉类\" value=\"3\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"颜色\" prop=\"color\">\r\n          <el-input v-model=\"form.color\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"花期\" prop=\"floweringPeriod\">\r\n          <el-input v-model=\"form.floweringPeriod\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"价格(元)\" prop=\"price\">\r\n          <el-input-number v-model=\"form.price\" :min=\"0\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"库存\" prop=\"num\">\r\n          <el-input-number v-model=\"form.num\" :min=\"0\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"预警值\" prop=\"warnValue\">\r\n          <el-input-number v-model=\"form.warnValue\" :min=\"0\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"单位\" prop=\"unit\">\r\n          <el-input v-model=\"form.unit\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"状态\" prop=\"status\">\r\n          <el-radio-group v-model=\"form.status\">\r\n            <el-radio label=\"0\">正常</el-radio>\r\n            <el-radio label=\"1\">停用</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"图片地址\" prop=\"image\">\r\n          <el-input v-model=\"form.image\" placeholder=\"可直接填后端返回的图片路径\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"open = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  listFlower,\r\n  getFlower,\r\n  addFlower,\r\n  updateFlower,\r\n  delFlower,\r\n  exportFlower\r\n} from '@/api/pill/flower'\r\n\r\nexport default {\r\n  name: 'Flower',\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      flowerList: [],\r\n      total: 0,\r\n      multiple: true,\r\n      ids: [],\r\n      open: false,\r\n      dialogTitle: '',\r\n      queryParams: {\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        flowerName: undefined,\r\n        flowerCode: undefined,\r\n        flowerType: undefined\r\n      },\r\n      form: {\r\n        flowerId: undefined,\r\n        flowerName: '',\r\n        flowerCode: '',\r\n        flowerType: '0',\r\n        color: '',\r\n        floweringPeriod: '',\r\n        price: 0,\r\n        num: 0,\r\n        warnValue: 0,\r\n        unit: '',\r\n        image: '',\r\n        status: '0'\r\n      },\r\n      rules: {\r\n        flowerName: [{ required: true, message: '请输入名称', trigger: 'blur' }],\r\n        flowerCode: [{ required: true, message: '请输入编码', trigger: 'blur' }]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    getList() {\r\n      this.loading = true\r\n      listFlower(this.queryParams).then(res => {\r\n        this.flowerList = res.rows || []\r\n        this.total = res.total || 0\r\n        this.loading = false\r\n      }).catch(() => {\r\n        this.loading = false\r\n      })\r\n    },\r\n    handleQuery() {\r\n      this.queryParams.pageNum = 1\r\n      this.getList()\r\n    },\r\n    resetQuery() {\r\n      this.queryParams = {\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        flowerName: undefined,\r\n        flowerCode: undefined,\r\n        flowerType: undefined\r\n      }\r\n      this.getList()\r\n    },\r\n    handleSizeChange(val) {\r\n      this.queryParams.pageSize = val\r\n      this.getList()\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.queryParams.pageNum = val\r\n      this.getList()\r\n    },\r\n    handleSelectionChange(selection) {\r\n      this.ids = selection.map(item => item.flowerId)\r\n      this.multiple = !selection.length\r\n    },\r\n    resetForm() {\r\n      this.form = {\r\n        flowerId: undefined,\r\n        flowerName: '',\r\n        flowerCode: '',\r\n        flowerType: '0',\r\n        color: '',\r\n        floweringPeriod: '',\r\n        price: 0,\r\n        num: 0,\r\n        warnValue: 0,\r\n        unit: '',\r\n        image: '',\r\n        status: '0'\r\n      }\r\n      if (this.$refs.form) {\r\n        this.$refs.form.resetFields()\r\n      }\r\n    },\r\n    handleAdd() {\r\n      this.resetForm()\r\n      this.dialogTitle = '新增花卉'\r\n      this.open = true\r\n    },\r\n    handleUpdate(row) {\r\n      this.resetForm()\r\n      getFlower(row.flowerId).then(res => {\r\n        this.form = Object.assign({}, res.data || {})\r\n        this.dialogTitle = '编辑花卉'\r\n        this.open = true\r\n      })\r\n    },\r\n    submitForm() {\r\n      this.$refs.form.validate(valid => {\r\n        if (!valid) return\r\n        const api = this.form.flowerId ? updateFlower : addFlower\r\n        api(this.form).then(() => {\r\n          this.$message.success('操作成功')\r\n          this.open = false\r\n          this.getList()\r\n        })\r\n      })\r\n    },\r\n    handleDelete(row) {\r\n      const ids = row && row.flowerId ? row.flowerId : this.ids.join(',')\r\n      if (!ids) {\r\n        this.$message.warning('请选择要删除的数据')\r\n        return\r\n      }\r\n      this.$confirm('确认删除选中的花卉吗？', '提示', {\r\n        type: 'warning'\r\n      }).then(() => {\r\n        delFlower(ids).then(() => {\r\n          this.$message.success('删除成功')\r\n          this.getList()\r\n        })\r\n      }).catch(() => {})\r\n    },\r\n    handleExport() {\r\n      exportFlower(this.queryParams).then(blobRes => {\r\n        const blob = new Blob([blobRes])\r\n        const url = window.URL.createObjectURL(blob)\r\n        const a = document.createElement('a')\r\n        a.href = url\r\n        a.download = '花卉信息.xlsx'\r\n        a.click()\r\n        window.URL.revokeObjectURL(url)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n\r\n\r\n"]}]}