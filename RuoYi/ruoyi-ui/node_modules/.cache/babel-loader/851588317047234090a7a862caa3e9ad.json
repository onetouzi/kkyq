{"remainingRequest":"C:\\ruoyi\\kkyq-rebuild - 副本\\RuoYi\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js!C:\\ruoyi\\kkyq-rebuild - 副本\\RuoYi\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\ruoyi\\kkyq-rebuild - 副本\\RuoYi\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ruoyi\\kkyq-rebuild - 副本\\RuoYi\\ruoyi-ui\\src\\views\\pill\\flower\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\ruoyi\\kkyq-rebuild - 副本\\RuoYi\\ruoyi-ui\\src\\views\\pill\\flower\\index.vue","mtime":1767595370500},{"path":"C:\\ruoyi\\kkyq-rebuild - 副本\\RuoYi\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1767595575517},{"path":"C:\\ruoyi\\kkyq-rebuild - 副本\\RuoYi\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1767595575519},{"path":"C:\\ruoyi\\kkyq-rebuild - 副本\\RuoYi\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1767595575517},{"path":"C:\\ruoyi\\kkyq-rebuild - 副本\\RuoYi\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1767595573878}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbGlzdEZsb3dlciwgZ2V0Rmxvd2VyLCBhZGRGbG93ZXIsIHVwZGF0ZUZsb3dlciwgZGVsRmxvd2VyLCBleHBvcnRGbG93ZXIgfSBmcm9tICdAL2FwaS9waWxsL2Zsb3dlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRmxvd2VyJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGZsb3dlckxpc3Q6IFtdLAogICAgICB0b3RhbDogMCwKICAgICAgbXVsdGlwbGU6IHRydWUsCiAgICAgIGlkczogW10sCiAgICAgIG9wZW46IGZhbHNlLAogICAgICBkaWFsb2dUaXRsZTogJycsCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgZmxvd2VyTmFtZTogdW5kZWZpbmVkLAogICAgICAgIGZsb3dlckNvZGU6IHVuZGVmaW5lZCwKICAgICAgICBmbG93ZXJUeXBlOiB1bmRlZmluZWQKICAgICAgfSwKICAgICAgZm9ybTogewogICAgICAgIGZsb3dlcklkOiB1bmRlZmluZWQsCiAgICAgICAgZmxvd2VyTmFtZTogJycsCiAgICAgICAgZmxvd2VyQ29kZTogJycsCiAgICAgICAgZmxvd2VyVHlwZTogJzAnLAogICAgICAgIGNvbG9yOiAnJywKICAgICAgICBmbG93ZXJpbmdQZXJpb2Q6ICcnLAogICAgICAgIHByaWNlOiAwLAogICAgICAgIG51bTogMCwKICAgICAgICB3YXJuVmFsdWU6IDAsCiAgICAgICAgdW5pdDogJycsCiAgICAgICAgaW1hZ2U6ICcnLAogICAgICAgIHN0YXR1czogJzAnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgZmxvd2VyTmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWQjeensCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBmbG93ZXJDb2RlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl57yW56CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRMaXN0KCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBsaXN0Rmxvd2VyKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLmZsb3dlckxpc3QgPSByZXMucm93cyB8fCBbXTsKICAgICAgICB0aGlzLnRvdGFsID0gcmVzLnRvdGFsIHx8IDA7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlUXVlcnkoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZU51bSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIHJlc2V0UXVlcnkoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMgPSB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgZmxvd2VyTmFtZTogdW5kZWZpbmVkLAogICAgICAgIGZsb3dlckNvZGU6IHVuZGVmaW5lZCwKICAgICAgICBmbG93ZXJUeXBlOiB1bmRlZmluZWQKICAgICAgfTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlU2l6ZSA9IHZhbDsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gdmFsOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuaWRzID0gc2VsZWN0aW9uLm1hcChpdGVtID0+IGl0ZW0uZmxvd2VySWQpOwogICAgICB0aGlzLm11bHRpcGxlID0gIXNlbGVjdGlvbi5sZW5ndGg7CiAgICB9LAogICAgcmVzZXRGb3JtKCkgewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgZmxvd2VySWQ6IHVuZGVmaW5lZCwKICAgICAgICBmbG93ZXJOYW1lOiAnJywKICAgICAgICBmbG93ZXJDb2RlOiAnJywKICAgICAgICBmbG93ZXJUeXBlOiAnMCcsCiAgICAgICAgY29sb3I6ICcnLAogICAgICAgIGZsb3dlcmluZ1BlcmlvZDogJycsCiAgICAgICAgcHJpY2U6IDAsCiAgICAgICAgbnVtOiAwLAogICAgICAgIHdhcm5WYWx1ZTogMCwKICAgICAgICB1bml0OiAnJywKICAgICAgICBpbWFnZTogJycsCiAgICAgICAgc3RhdHVzOiAnMCcKICAgICAgfTsKICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybSkgewogICAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldEZpZWxkcygpOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlQWRkKCkgewogICAgICB0aGlzLnJlc2V0Rm9ybSgpOwogICAgICB0aGlzLmRpYWxvZ1RpdGxlID0gJ+aWsOWinuiKseWNiSc7CiAgICAgIHRoaXMub3BlbiA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlVXBkYXRlKHJvdykgewogICAgICB0aGlzLnJlc2V0Rm9ybSgpOwogICAgICBnZXRGbG93ZXIocm93LmZsb3dlcklkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5mb3JtID0gT2JqZWN0LmFzc2lnbih7fSwgcmVzLmRhdGEgfHwge30pOwogICAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn57yW6L6R6Iqx5Y2JJzsKICAgICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICBzdWJtaXRGb3JtKCkgewogICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICghdmFsaWQpIHJldHVybjsKICAgICAgICBjb25zdCBhcGkgPSB0aGlzLmZvcm0uZmxvd2VySWQgPyB1cGRhdGVGbG93ZXIgOiBhZGRGbG93ZXI7CiAgICAgICAgYXBpKHRoaXMuZm9ybSkudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+aTjeS9nOaIkOWKnycpOwogICAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRGVsZXRlKHJvdykgewogICAgICBjb25zdCBpZHMgPSByb3cgJiYgcm93LmZsb3dlcklkID8gcm93LmZsb3dlcklkIDogdGhpcy5pZHMuam9pbignLCcpOwogICAgICBpZiAoIWlkcykgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+36YCJ5oup6KaB5Yig6Zmk55qE5pWw5o2uJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruiupOWIoOmZpOmAieS4reeahOiKseWNieWQl++8nycsICfmj5DnpLonLCB7CiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIGRlbEZsb3dlcihpZHMpLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip8nKTsKICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaCgoKSA9PiB7fSk7CiAgICB9LAogICAgaGFuZGxlRXhwb3J0KCkgewogICAgICBleHBvcnRGbG93ZXIodGhpcy5xdWVyeVBhcmFtcykudGhlbihibG9iUmVzID0+IHsKICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2Jsb2JSZXNdKTsKICAgICAgICBjb25zdCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgIGEuaHJlZiA9IHVybDsKICAgICAgICBhLmRvd25sb2FkID0gJ+iKseWNieS/oeaBry54bHN4JzsKICAgICAgICBhLmNsaWNrKCk7CiAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["listFlower","getFlower","addFlower","updateFlower","delFlower","exportFlower","name","data","loading","flowerList","total","multiple","ids","open","dialogTitle","queryParams","pageNum","pageSize","flowerName","undefined","flowerCode","flowerType","form","flowerId","color","floweringPeriod","price","num","warnValue","unit","image","status","rules","required","message","trigger","created","getList","methods","then","res","rows","catch","handleQuery","resetQuery","handleSizeChange","val","handleCurrentChange","handleSelectionChange","selection","map","item","length","resetForm","$refs","resetFields","handleAdd","handleUpdate","row","Object","assign","submitForm","validate","valid","api","$message","success","handleDelete","join","warning","$confirm","type","handleExport","blobRes","blob","Blob","url","window","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL"],"sources":["src/views/pill/flower/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <div class=\"filter-container\">\r\n      <el-form :inline=\"true\" :model=\"queryParams\" size=\"small\">\r\n        <el-form-item label=\"名称\">\r\n          <el-input\r\n            v-model=\"queryParams.flowerName\"\r\n            placeholder=\"花卉名称\"\r\n            clearable\r\n            @keyup.enter.native=\"handleQuery\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"编码\">\r\n          <el-input\r\n            v-model=\"queryParams.flowerCode\"\r\n            placeholder=\"花卉编码\"\r\n            clearable\r\n            @keyup.enter.native=\"handleQuery\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"类型\">\r\n          <el-select v-model=\"queryParams.flowerType\" placeholder=\"请选择类型\" clearable>\r\n            <el-option label=\"观花类\" value=\"0\" />\r\n            <el-option label=\"观叶类\" value=\"1\" />\r\n            <el-option label=\"观果类\" value=\"2\" />\r\n            <el-option label=\"多肉类\" value=\"3\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"handleQuery\">搜索</el-button>\r\n          <el-button icon=\"el-icon-refresh\" @click=\"resetQuery\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n\r\n    <div class=\"table-operations\">\r\n      <el-button type=\"primary\" icon=\"el-icon-plus\" size=\"small\" @click=\"handleAdd\">\r\n        新增\r\n      </el-button>\r\n      <el-button\r\n        type=\"danger\"\r\n        icon=\"el-icon-delete\"\r\n        size=\"small\"\r\n        :disabled=\"multiple\"\r\n        @click=\"handleDelete\"\r\n      >\r\n        删除\r\n      </el-button>\r\n      <el-button\r\n        type=\"warning\"\r\n        icon=\"el-icon-download\"\r\n        size=\"small\"\r\n        @click=\"handleExport\"\r\n      >\r\n        导出\r\n      </el-button>\r\n    </div>\r\n\r\n    <el-table\r\n      v-loading=\"loading\"\r\n      :data=\"flowerList\"\r\n      border\r\n      @selection-change=\"handleSelectionChange\"\r\n    >\r\n      <el-table-column type=\"selection\" width=\"55\" />\r\n      <el-table-column prop=\"flowerId\" label=\"ID\" width=\"80\" />\r\n      <el-table-column prop=\"image\" label=\"图片\" width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <el-image\r\n            v-if=\"scope.row.image\"\r\n            :src=\"scope.row.image\"\r\n            :preview-src-list=\"[scope.row.image]\"\r\n            style=\"width: 60px; height: 60px\"\r\n            fit=\"cover\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"flowerName\" label=\"名称\" min-width=\"120\" />\r\n      <el-table-column prop=\"flowerCode\" label=\"编码\" min-width=\"100\" />\r\n      <el-table-column prop=\"flowerType\" label=\"类型\" width=\"90\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag v-if=\"scope.row.flowerType === '0'\" type=\"primary\">观花类</el-tag>\r\n          <el-tag v-else-if=\"scope.row.flowerType === '1'\" type=\"success\">观叶类</el-tag>\r\n          <el-tag v-else-if=\"scope.row.flowerType === '2'\" type=\"warning\">观果类</el-tag>\r\n          <el-tag v-else type=\"info\">多肉类</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"color\" label=\"颜色\" width=\"90\" />\r\n      <el-table-column prop=\"floweringPeriod\" label=\"花期\" width=\"120\" />\r\n      <el-table-column prop=\"price\" label=\"价格(元)\" width=\"100\" />\r\n      <el-table-column prop=\"num\" label=\"库存\" width=\"90\" />\r\n      <el-table-column prop=\"warnValue\" label=\"预警值\" width=\"90\" />\r\n      <el-table-column prop=\"unit\" label=\"单位\" width=\"80\" />\r\n      <el-table-column prop=\"status\" label=\"状态\" width=\"90\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag :type=\"scope.row.status === '0' ? 'success' : 'info'\">\r\n            {{ scope.row.status === '0' ? '正常' : '停用' }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" fixed=\"right\" width=\"160\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"text\" size=\"mini\" @click=\"handleUpdate(scope.row)\">\r\n            编辑\r\n          </el-button>\r\n          <el-button type=\"text\" size=\"mini\" @click=\"handleDelete(scope.row)\">\r\n            删除\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <el-pagination\r\n      v-show=\"total > 0\"\r\n      style=\"margin-top: 10px; text-align: right\"\r\n      background\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"total\"\r\n      :page-size=\"queryParams.pageSize\"\r\n      :current-page=\"queryParams.pageNum\"\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n    />\r\n\r\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"open\" width=\"600px\">\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\r\n        <el-form-item label=\"名称\" prop=\"flowerName\">\r\n          <el-input v-model=\"form.flowerName\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"编码\" prop=\"flowerCode\">\r\n          <el-input v-model=\"form.flowerCode\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"类型\" prop=\"flowerType\">\r\n          <el-select v-model=\"form.flowerType\" placeholder=\"请选择类型\">\r\n            <el-option label=\"观花类\" value=\"0\" />\r\n            <el-option label=\"观叶类\" value=\"1\" />\r\n            <el-option label=\"观果类\" value=\"2\" />\r\n            <el-option label=\"多肉类\" value=\"3\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"颜色\" prop=\"color\">\r\n          <el-input v-model=\"form.color\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"花期\" prop=\"floweringPeriod\">\r\n          <el-input v-model=\"form.floweringPeriod\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"价格(元)\" prop=\"price\">\r\n          <el-input-number v-model=\"form.price\" :min=\"0\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"库存\" prop=\"num\">\r\n          <el-input-number v-model=\"form.num\" :min=\"0\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"预警值\" prop=\"warnValue\">\r\n          <el-input-number v-model=\"form.warnValue\" :min=\"0\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"单位\" prop=\"unit\">\r\n          <el-input v-model=\"form.unit\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"状态\" prop=\"status\">\r\n          <el-radio-group v-model=\"form.status\">\r\n            <el-radio label=\"0\">正常</el-radio>\r\n            <el-radio label=\"1\">停用</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"图片地址\" prop=\"image\">\r\n          <el-input v-model=\"form.image\" placeholder=\"可直接填后端返回的图片路径\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"open = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  listFlower,\r\n  getFlower,\r\n  addFlower,\r\n  updateFlower,\r\n  delFlower,\r\n  exportFlower\r\n} from '@/api/pill/flower'\r\n\r\nexport default {\r\n  name: 'Flower',\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      flowerList: [],\r\n      total: 0,\r\n      multiple: true,\r\n      ids: [],\r\n      open: false,\r\n      dialogTitle: '',\r\n      queryParams: {\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        flowerName: undefined,\r\n        flowerCode: undefined,\r\n        flowerType: undefined\r\n      },\r\n      form: {\r\n        flowerId: undefined,\r\n        flowerName: '',\r\n        flowerCode: '',\r\n        flowerType: '0',\r\n        color: '',\r\n        floweringPeriod: '',\r\n        price: 0,\r\n        num: 0,\r\n        warnValue: 0,\r\n        unit: '',\r\n        image: '',\r\n        status: '0'\r\n      },\r\n      rules: {\r\n        flowerName: [{ required: true, message: '请输入名称', trigger: 'blur' }],\r\n        flowerCode: [{ required: true, message: '请输入编码', trigger: 'blur' }]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    getList() {\r\n      this.loading = true\r\n      listFlower(this.queryParams).then(res => {\r\n        this.flowerList = res.rows || []\r\n        this.total = res.total || 0\r\n        this.loading = false\r\n      }).catch(() => {\r\n        this.loading = false\r\n      })\r\n    },\r\n    handleQuery() {\r\n      this.queryParams.pageNum = 1\r\n      this.getList()\r\n    },\r\n    resetQuery() {\r\n      this.queryParams = {\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        flowerName: undefined,\r\n        flowerCode: undefined,\r\n        flowerType: undefined\r\n      }\r\n      this.getList()\r\n    },\r\n    handleSizeChange(val) {\r\n      this.queryParams.pageSize = val\r\n      this.getList()\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.queryParams.pageNum = val\r\n      this.getList()\r\n    },\r\n    handleSelectionChange(selection) {\r\n      this.ids = selection.map(item => item.flowerId)\r\n      this.multiple = !selection.length\r\n    },\r\n    resetForm() {\r\n      this.form = {\r\n        flowerId: undefined,\r\n        flowerName: '',\r\n        flowerCode: '',\r\n        flowerType: '0',\r\n        color: '',\r\n        floweringPeriod: '',\r\n        price: 0,\r\n        num: 0,\r\n        warnValue: 0,\r\n        unit: '',\r\n        image: '',\r\n        status: '0'\r\n      }\r\n      if (this.$refs.form) {\r\n        this.$refs.form.resetFields()\r\n      }\r\n    },\r\n    handleAdd() {\r\n      this.resetForm()\r\n      this.dialogTitle = '新增花卉'\r\n      this.open = true\r\n    },\r\n    handleUpdate(row) {\r\n      this.resetForm()\r\n      getFlower(row.flowerId).then(res => {\r\n        this.form = Object.assign({}, res.data || {})\r\n        this.dialogTitle = '编辑花卉'\r\n        this.open = true\r\n      })\r\n    },\r\n    submitForm() {\r\n      this.$refs.form.validate(valid => {\r\n        if (!valid) return\r\n        const api = this.form.flowerId ? updateFlower : addFlower\r\n        api(this.form).then(() => {\r\n          this.$message.success('操作成功')\r\n          this.open = false\r\n          this.getList()\r\n        })\r\n      })\r\n    },\r\n    handleDelete(row) {\r\n      const ids = row && row.flowerId ? row.flowerId : this.ids.join(',')\r\n      if (!ids) {\r\n        this.$message.warning('请选择要删除的数据')\r\n        return\r\n      }\r\n      this.$confirm('确认删除选中的花卉吗？', '提示', {\r\n        type: 'warning'\r\n      }).then(() => {\r\n        delFlower(ids).then(() => {\r\n          this.$message.success('删除成功')\r\n          this.getList()\r\n        })\r\n      }).catch(() => {})\r\n    },\r\n    handleExport() {\r\n      exportFlower(this.queryParams).then(blobRes => {\r\n        const blob = new Blob([blobRes])\r\n        const url = window.URL.createObjectURL(blob)\r\n        const a = document.createElement('a')\r\n        a.href = url\r\n        a.download = '花卉信息.xlsx'\r\n        a.click()\r\n        window.URL.revokeObjectURL(url)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]}]}